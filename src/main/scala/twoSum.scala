
object twoSum extends App {

  def twoSum(nums: Array[Int], target: Int) = (for {
      n: Int <- nums
      i: Int <- collection.mutable.Buffer.from(nums).subtractOne(n)
      indexN = nums.indexOf(n)
      indexI = nums.lastIndexOf(i)
      result = Array(indexN, indexI) if n + i == target && indexN != indexI
    } yield result).head

  def twoSum2(nums: Array[Int], target: Int): Array[Int] = {
    val map = nums.zipWithIndex.toMap
    val firstIndex  = nums.indices.indexWhere(i => map.get(target - nums(i)).exists(_ != i))
    val secondIndex = map.find { case (number, index) => number == target - nums(firstIndex) && index != firstIndex }.map(_._2).getOrElse(-1)
    Array(firstIndex, secondIndex)
  }


  val nums: Array[Int] =
    Array(9704892,6437174,4722802,-5177827,-7176777,-5534858,1405791,7189078,-7447773,3027390,9942865,-9807039,-9119466,4513674,8539991,-3030349,9573328,-9510716,-6608836,9190123,9139156,-1167056,9850912,7909566,1000522,3000163,6835120,-7210877,933049,-7883403,-7669300,6326053,9830340,6729997,9928680,90372,3531759,-721562,-7540161,827628,5601929,5086972,-3258591,-6212386,6884322,8529272,1266036,9034349,3846644,-7694425,3906240,-8486064,8657125,4824260,-6829000,3023225,-6656533,-6278763,405941,4077863,-2934485,6246780,-9925318,1779833,918211,1885791,-1377435,-9225555,-7051237,-9551152,-2803778,7769707,-2079470,-8301432,87597,4131785,-4394323,8066453,-7807255,-8510899,8220249,4082471,5225240,442886,-330979,8483931,5593061,-2286982,-6008125,4190403,4621016,5160037,6047989,2936209,1399793,-1162635,2323313,-541080,-277120,120801,1255526,-4162579,-2044133,-3471249,-9457246,4900475,-9011836,-7887010,5522654,-1945676,6191628,-9293737,2195920,-9854999,8741031,-9587411,370119,-1528486,2904895,-1432124,-4543727,7806843,9765367,-8144950,9583484,-4994397,-5560569,-8711283,-2301299,8786133,5520029,4921600,-4546909,3948942,-3919736,-9048353,-5163762,8035095,-7763490,-5101152,-3317537,-7115428,8660187,-6622957,-8988562,-2713302,4575931,-8530897,-2116834,-218559,3094760,194664,9350929,181011,1979970,6513942,6741794,-5483882,1285031,3414497,-8382410,5529929,-8125490,8918085,6740331,-1679389,8942786,6012207,-1867337,2080260,5747673,-8760168,-144551,-9737793,-4103045,-632635,2151522,9074904,7922108,3456831,-221816,9227639,-1502061,-3502796,-5636648,-9588766,7095504,1118103,4952157,-1437781,-6730758,-8355445,-7614169,-2861593,9905989,6918438,8418172,-8757464,-7113509,-6976855,9610730,8775515,-5859210,-6132350,2884226,-7647966,-3573242,-7833217,1834637,3202135,4250909,98535,-2218777,-1855721,-2750336,5907743,3738817,-8256474,8699438,-239934,6826330,-6231971,-1838266,-2055717,5033615,-4564532,-9158356,-7574837,-1459060,-689984,2418193,-6607325,9051542,-3090052,-9826466,-7626882,3741290,492335,2278793,-4310808,-5288587,7605115,-9143121,9614321,-6838861,-3728190,-5602962,-7887372,-5054841,-4560501,1093676,1771017,3329608,504407,949325,2023817,-1942361,6810003,2231777,5601130,-6818114,9370397,1066069,3681102,-7876144,6589947,-3806791,1259475,-3252420,4741963,5989717,9184720,-8993101,-5585355,-252227,238477,-2553179,8012486,4452739,-1980196,1720389,4063990,-9231435,1864283,2773140,6751932,8492566,2769708,-2628913,-2342577,6346727,7926690,-4939284,-3923150,6643589,7579441,-1901260,-3838674,-1082467,3764785,5686498,-8250203,8004611,8918557,3672086,2027729,-9762888,-4821836,1532911,-9264095,7083306,-7288682,3151418,-2359092,-33041,8303778,-8148885,4428442,-5478072,6306802,5721598,7619956,-362162,9111172,5509955,-7550488,4055211,-9924991,-3479390,3432269,-1029187,1547191,274090,307543,-6268333,-2921924,3081711,-8449897,7978235,-5411364,-5616928,-1603421,5221777,4694406,9554834,3315419,-2653697,-395192,48374,7532644,-9648749,-7794093,-6840630,69550,9378790,-4950417,5896522,2724240,-9775695,-8956456,775695,-2217075,2679791,2427687,-122385,5840872,5367653,1866260,493597,6308632,-9992262,-4818216,-3872657,-9793365,-984067,-9092182,5311865,-4100777,5400721,1684502,-555784,-281928,5065835,-2989406,3370301,5276654,2446179,8197162,-5339665,8237128,1417283,5425866,-707969,2373325,5505323,-2980139,8231089,-4882098,-8361899,-5714936,-5805308,-5073672,-3237865,1525890,-380375,9785953,-1804273,-8378723,4634585,8492212,-7203800,700664,2274567,9850414,-1083119,8228047,9687973,1710560,1454454,366323,5181712,-500611,6421885,-1660764,1035024,3307666,3378520,-8443458,-2514544,-5421842,-8747496,7361251,-7345178,-6744804,2358456,3793403,450209,-9598027,-9952932,-7067878,1115041,-3749127,-9743504,-9339394,4342531,8199916,-5624326,-7957459,6003043,1334259,-7389033,-3993019,1001185,3155684,-9869113,4972474,-6717308,-4792924,4094471,-1969953,-3506,7140203,-842709,-6388238,-1977793,7942459,-5590699,8343132,3392405,9695090,4312807,5574313,7656516,1141682,7982128,-7858659,3376017,2459580,-377788,-7939220,512045,-2427109,7600148,-7527542,7715305,2348420,1024725,-4947112,-376944,-1262679,-3933632,-6492462,-5714172,-6961488,1009730,141621,-113968,-2406692,1443026,-9679359,-9112342,4230217,-5630059,-9987213,-6227550,850018,1487710,1782790,-3584499,-3529756,6642878,7303516,3632585,8904287,-6580600,7701894,5297845,-3282513,6155604,3671806,-9511424,1576237,2224932,8514474,-7693583,-3094314,-371354,-6007394,6130707,-5459698,8892653,-650874,-9850363,-7583403,-9788112,-2559066,2263100,5295397,-8594537,-4853180,8431873,121086,3411178,5792590,1626309,9628285,-254130,-6706545,-2599770,-6767121,1579938,463427,-1298880,7471818,-7932469,2965420,-3759352,-2477473,-3147596,-6712100,-3124545,-5582829,5970958,7667883,-5823747,-3185616,-5784286,2602219,-7936032,6414629,1683438,6773256,-1660902,-2631250,-1694381,9196480,8794339,-2185203,9490641,-3443670,-2878290,-8408818,-2381266,-9371863,-8794103,-7232928,6968989,3564125,-4614284,-8827803,6208841,-5812,-2430331,4143557,-5999148,-683044,2597527,-6249900,1490598,-2362361,-6527481,-2707502,7584466,5668916,8594684,-4886920,-7011042,-3550434,-1682413,8645992,8219819,-9996491,-5612730,-1406691,9977704,-1090750,9154537,-9447648,4404250,-1282744,-3353223,-7990737,9441665,-9465154,-9905475,8139896,-2995149,-1349895,-356046,9455712,-1081162,4259955,561101,-9891579,8385460,-6120774,-1435606,-5336025,-3070492,-4410187,9876957,-4846431,-9673437,313678,9946384,1433493,2918956,-5363868,-3296251,5575662,-5112912,4463555,-2919262,3641347,3343468,4025527,-6738232,-3035900,-6105598,-9214225,-6654540,-2555229,3032559,-8584783,4772995,1547108,7291193,-6689718,5294372,3785944,3597167,6155312,2560796,-4881567,-2759013,5399973,-2463348,-3741874,8174014,3683120,-752588,-5341049,-226658,9747005,-9326065,6197701,-7070209,9615582,5410894,4879481,-4781354,687547,5724458,-9087065,2546342,-4057614,-4886199,4876458,-6665789,-7018630,2446634,-3474594,1405727,5517591,-4440230,-991597,3767800,-6187230,-3041914,377768,-3093589,4473130,-7985186,2077904,4460053,7180561,-1449798,8235628,9459132,8920013,-6348849,4127720,9771358,6231510,-7261325,9428786,-3156319,-5369770,-9479241,-5822321,9938382,-2165197,2368080,-3097014,8948065,-7004667,-6132962,5199667,3208699,9056988,-4285438,52263,-7715714,1478895,-6552250,-4551187,-8077469,-7782432,-7826442,8604974,6089146,8543701,710857,-6536276,5255346,-9249617,-9674434,7487091,-2642165,1125261,2577172,-6306780,7098796,6750693,-8210294,5768522,3034471,4561872,4232557,709815,-5071547,4595975,403827,-1754740,-9549741,-7220004,3505551,-2380519,-8029269,-6115545,9435325,5503491,-8255343,-6181303,-7705460,-7926253,-9666128,-8793519,3079043,3784410,851737,4832340,-8695566,1957682,8769500,3898796,-668503,-844260,-280167,9080296,-4131135,-5927123,-5079410,-5118479,-3990822,-9655311,3916021,6599084,7704525,-7532725,5346203,-3892,8122641,9242229,8249590,-214254,9751653,2673760,2857436,-2917354,-9808189,-870683,-4593402,-5254492,-31084,-1963393,-1073121,6682874,6931987,9137839,7883837,4501964,-5599689,-7576771,2293115,6760949,-5423581,-4477501,9282842,2845451,-7534359,6459172,7406497,8967400,-4945319,4400654,2479828,-7186643,-7275388,5623599,-4496660,7429280,-8710503,6980946,-9968421,1874063,-8897126,-7417592,-6720123,9373661,-4883694,6431819,-2695511,6078093,6010853,2709188,-9232559,-7042905,1701698,7397144,-8513296,-1246132,-2222186,7418601,-4879900,-675358,9006559,-3468740,-2176809,-1532895,-1604735,4073882,4552393,1027447,9149044,5764828,6102769,-7257071,-1867415,-5993892,1758451,-7590437,-5395258,8921391,2714599,-3429015,-950929,-8363300,-6165160,-8530830,-8395057,-1412027,5040867,1504797,4704443,8878031,-9909340,1293044,-7281033,-6298012)

  val target: Int =
    16142066

  println(
    twoSum2(Array(3,2,4), 6).mkString("[",",","]")
  )

}
